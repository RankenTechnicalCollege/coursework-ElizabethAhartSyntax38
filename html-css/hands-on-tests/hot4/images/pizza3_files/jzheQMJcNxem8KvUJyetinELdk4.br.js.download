var Bnp=Bnp||{};Bnp.Common=Bnp.Common||function(){function n(n,t,u,f){var c,l,s,a,v;if(u){var o=sj_ev(u),e=sj_et(u),h=!1,y=o.ctrlKey||o.metaKey,p=e.target||e.parentNode&&e.parentNode.target||"_self",w=p.toLocaleLowerCase()==="_blank";y||w||("which"in o?h=o.which==1:"button"in o&&(h=o.button==0));h&&(c=function(n){sj_pd(n);sj_ue(e,"click",c)},sj_be(e,"click",c));l=e.href||e.parentNode&&e.parentNode.href;n==1&&l&&h&&sj_evt.bind("bnpLogComplete",function(n){f||n[1]!=1||n[2]!=t||_w.open(l,"_self")},1)}return typeof sj_gx!="undefined"&&(s=sj_gx(),a="",typeof sj_cook!="undefined"&&(a=sj_cook.get("_EDGE_S","SID")||sj_cook.get("_SS","SID")),v="/notifications/handle?action="+n+"&nid="+t+"&view="+i()+"&vertical="+r(),s.open("POST",v,!0),s.setRequestHeader("X-BNP-CSRF",a),s.onreadystatechange=function(){if(s.readyState==4){if(document.URL&&document.URL.indexOf("bnptesthooks=1")>=0){var i=document.createElement("div");i.innerText="bnpLog Issued for notification Id "+t+" and actionId "+n;i.id="bnpLogHandlerDiv"+n;document.body.appendChild(i)}sj_evt.fire("bnpLogComplete",n,t)}},s.send()),!0}function t(){var n=_d.querySelector('[id^="bnp.nid."]');return n?n.id:null}function i(){var n=_d.querySelector('[id^="bnp.nid."]');return n?n.dataset.viewname:""}function r(){var n=_d.querySelector('[id^="bnp.nid."]');return n?n.dataset.vertical:""}function u(t,i,r){typeof Log!="undefined"&&typeof Log.Log=="function"&&Log.Log("Click","Bnp","BnpClick",!1,"ID",t);n(1,t,i,r)}function f(t,i){typeof Log!="undefined"&&typeof Log.Log=="function"&&Log.Log("Info","Bnp","BnpSupression",!1,"ID",t);i||n(2,t)}function e(t,i){if(i){var r=_ge("bnp.nid."+t);r&&(r.style.display="none")}typeof Log!="undefined"&&typeof Log.Log=="function"&&Log.Log("Click","Bnp","BnpClose",!1,"ID",t);sj_evt.fire("bnp.embed.close",t);n(2,t)}function o(t){n(3,t)}function s(n,t,i){var r=new AjaxUnloadUtil;sj_evt&&sj_evt.fire&&sj_evt.fire("bnp.notif.shown",n);i&&typeof Log!="undefined"&&typeof Log.Log=="function"&&Log.Log("BNP",t,"bnp.notif.shown",!1);sj_evt&&sj_evt.bind("bnp.notif.shown",r._handleAjaxUnload,!0)}return{GetBnpContainerId:t,Click:u,Close:e,LogImpression:s,RecordImpression:o,RecordBNPSupression:f}}()