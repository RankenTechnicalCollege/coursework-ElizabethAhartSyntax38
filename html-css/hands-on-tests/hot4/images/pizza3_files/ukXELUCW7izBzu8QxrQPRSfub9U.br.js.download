var SlideExpVisibilityTracking_SupportTwoCarousel;(function(n){function o(n){var g,nt=n[1],o,s,y,tt,a,p,w,it,h,rt,ut,b,v,k,d;if(!nt)return null;if((o=c(nt),o!=null)&&(s=o.attributes.carouselid.value,y=o.getElementsByClassName("adsMvC"),!(y.length<1))){if(!r[s])for(t[s]==null&&(t[s]=new Array(y.length)),h=0;h<y.length;h++)t[s][h]=!1;if(!e(o)){tt=i.length;i[tt]=o;u[tt]=nt;f||(l(),f=!0);return}for(a=[],p="",o.attributes.parentCarouselId!=null&&(p=o.attributes.parentCarouselId.value),w=SlideExperience.getVisibleSlidesIndices(s),it=(g=o===null||o===void 0?void 0:o.classList.contains("adsMv2Carousel"))!==null&&g!==void 0?g:!1,h=0;h<w.length;h++)for(rt=it?w[h]*2:w[h],ut=it?2:1,b=0;b<ut;b++)(v=rt+b,v>=y.length)||t[s][v]||p!=""&&t[p][v]||(k=y[v],k&&k.hasAttribute("mv-data")&&(d=k.attributes["mv-data"].value,d&&d.length!==0&&(a.push(d),t[s][v]=!0,p!=""&&(t[p][v]=!0))));a.length>0?(sj_plog("CI.AdImpression","Ads",a.join(),"Event.AdImpression"),sj_logToAES(a)):r[s]||(a=["init"]);r[s]=!0;o.attributes.testmv&&a.length>0&&(o.attributes.testmv.value=a.join())}}function s(n){var e=n[1],o=n[2],r,t,u,i,f;o||(r=_ge(e),r)&&(t=r.parentElement,t&&t.className.indexOf("adsMvCarouselToggle")!=-1)&&(u=t.previousElementSibling,u)&&((i=u.getElementsByClassName("b_slidebar"),!i||i.length<1)||(f=i[0],sj_evt.fire("slideexp_expanded",f.id)))}function h(){if(i&&i.length>0)for(var n=0;n<i.length;)e(i[n])?(sj_evt.fire("slideexp_expanded",u[n]),i.splice(n,1),u.splice(n,1)):n++}function c(n){for(var t,r=document.getElementsByClassName("adsMvCarousel"),i=0;i<r.length;i++)if(t=r[i],t.attributes.carouselid&&n.indexOf(t.attributes.carouselid.value)>=0)return t.offsetParent!==null?t:null;return null}function e(n){if(!n||!n.getBoundingClientRect)return!1;if(n.clientWidth&&n.clientHeight)try{var t=n.getBoundingClientRect(),i=t.top+n.clientHeight<0,r=t.top>window.innerHeight;return!i&&!r}catch(u){return!1}return!1}function l(){window.addEventListener("resize",n.changeCarouselVisibility);var t;window.addEventListener("scroll",function(){t&&window.clearTimeout(t);t=window.setTimeout(n.changeCarouselVisibility,100)})}var t=[[]],r=[],i=[],u=[],f=!1;n.reportItemVisibilityExp=o;n.reportVisibilityExp=s;n.changeCarouselVisibility=h})(SlideExpVisibilityTracking_SupportTwoCarousel||(SlideExpVisibilityTracking_SupportTwoCarousel={}));sj_evt.bind("exptoggle",SlideExpVisibilityTracking_SupportTwoCarousel.reportVisibilityExp);sj_evt.bind("slideexp_init_done",SlideExpVisibilityTracking_SupportTwoCarousel.reportItemVisibilityExp,!0);sj_evt.bind("slideexp_scroll",SlideExpVisibilityTracking_SupportTwoCarousel.reportItemVisibilityExp,!0);sj_evt.bind("slideexp_rotate",SlideExpVisibilityTracking_SupportTwoCarousel.reportItemVisibilityExp,!0);sj_evt.bind("slideexp_slideprev_move",SlideExpVisibilityTracking_SupportTwoCarousel.reportItemVisibilityExp,!0);sj_evt.bind("slideexp_slidenext_move",SlideExpVisibilityTracking_SupportTwoCarousel.reportItemVisibilityExp,!0);sj_evt.bind("slideexp_expanded",SlideExpVisibilityTracking_SupportTwoCarousel.reportItemVisibilityExp,!0);sj_evt.bind("onProductAdsCarouselExpanded",SlideExpVisibilityTracking_SupportTwoCarousel.reportItemVisibilityExp,!0);sj_evt.bind("onAIACarouselExpanded",SlideExpVisibilityTracking_SupportTwoCarousel.reportItemVisibilityExp,!0)