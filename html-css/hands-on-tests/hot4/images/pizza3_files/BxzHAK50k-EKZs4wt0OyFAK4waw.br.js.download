var BNPRewardsReportActivity;(function(n){function s(n){c(n,function(){Log.Log(t,n.OfferId,"success",!1)},function(i,r,u){var f="Error occured while fetching user info. Reason:"+i+". Status:"+r+". ResponseText:"+u;Log.Log(t,n.OfferId,f,!1)})}function h(n,t,r,u){l(n,t,r,u,function(){Log.Log(i,t,"success",!1)},function(n,r,u){var f="Error occured while post redeem checkout. Reason:"+n+". Status:"+r+". ResponseText:"+u;Log.Log(i,t,f,!1)})}function c(n,i,f){var o={url:u,requestType:"POST",body:n&&JSON.stringify(n),onSuccess:i,onError:f};r(o,t,e)}function l(n,t,u,e,s,h){var c={url:NotificationUtil.strFormat(f,n,t,u,e),requestType:"POST",body:"",onSuccess:s,onError:h};r(c,i,o)}function r(n,t,i){var v,e,o;if(n!=null){var s=n.timeout,h=n.onSuccess,u=n.onError,c=n.accessToken,y=n.url,l=n.body,p=n.tries,w=n.requestType,f=n.headers,r=sj_gx(),b=w||"GET",a=function(){return r.open(b,y,!0)};if(a(),typeof Log!="undefined"&&typeof Log.Log=="function"&&Log.Log("BNP",t,i,!1),r.withCredentials=!0,r.ontimeout=function(){return u&&u("timeout",504,null)},r.timeout=s==null?0:s,v=p||1,e=function(n,t,i){u!=null&&u(t,n,i)},c!=null&&r.setRequestHeader("Authorization","Bearer ".concat(c)),f)for(o in f)r.setRequestHeader(o,f[o]);r.onreadystatechange=function(){var n,t;if(r.readyState===4)if(r.status===200){if(h!=null){if(n=null,r.responseText!=null&&r.responseText!=="")try{n=JSON.parse(r.responseText)}catch(i){e(-1,"InvalidData",r.responseText,"Bad data");return}h(n)}}else--v>0?(r.abort(),a(),r.send(l)):(t=r.status,e(r.status,"",r.responseText,"Ajax call failed with status ".concat(r.status,". No retries available.")))};r.send(l)}}var u="/msrewards/api/v1/reportactivity",f="/rewards/redemptioncheckout?feed={0}&sku={1}&channel={2}&variablePointsValue={3}",t="ReportActivityAjax",i="PostRedeemAjax",e="ReportActivityRequestSent",o="RedeemRequestSent";n.postRequest=s;n.postRedeem=h})(BNPRewardsReportActivity||(BNPRewardsReportActivity={}))