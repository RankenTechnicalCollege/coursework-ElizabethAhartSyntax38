var SERPCopilotSearchComposer;(function(n){function oi(){var i=_w.pageYOffset,u=i<tt,n,r;if(tt=i,n=Lib.CssClass.contains(t,h),r=ci(),a=r,!dt&&u){n&&b(!0);return}if(r){y&&(gt?n&&b(!0):fr());return}er();i>f!=n&&(n?b(!1):si())}function fr(){Lib.CssClass.add(t,k);v&&!o&&Lib.CssClass.add(t,at)}function er(){Lib.CssClass.remove(t,k);v&&!o&&Lib.CssClass.remove(t,at)}function si(){et||(nr(ur),et=!0);o||ai();Lib.CssClass.add(_d.body,ct);Lib.CssClass.add(t,h);ot(l)}function b(n){Lib.CssClass.contains(t,h)&&(n?hi():Lib.CssClass.add(t,ht))}function hi(){Lib.CssClass.remove(t,ht);Lib.CssClass.remove(t,h);Lib.CssClass.remove(_d.body,ct);ot(0)}function ci(){return _w.pageYOffset+_w.innerHeight>=sb_de.offsetHeight-1}function or(){if(r&&"ResizeObserver"in window){var n=new ResizeObserver(function(n){for(var e,r,u,i=0,f=n;i<f.length;i++)e=f[i],r=e.contentRect.height,p!==r&&(u=r-p,l=l+u,p=r,Lib.CssClass.contains(t,h)&&(ot(l),a&&u>0&&window.scrollTo(_w.pageXOffset,_w.pageYOffset+u)))});n.observe(u)}}function sr(){if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window){var n=new IntersectionObserver(function(n,t){n.forEach(function(n){n.isIntersecting&&(ft||(nr(rr),ft=!0),t.disconnect())})},{root:null,threshold:.1});n.observe(t)}}function hr(){r=_ge("b_copilot_search");o=Lib.CssClass.contains(r,tr);o&&(sj_evt.bind(pt,yi),sj_evt.bind(wt,pi),ei&&sj_evt.bind(bt,wi),it||li(!1));Lib.CssClass.remove(r,c);l=r.offsetHeight;cr();u=_qs(".composer_container");p=u.offsetHeight;or();o&&!it&&(vr(),li(!0))}function cr(){(e=_ge(yt),e)||(e=sj_ce("div",yt),v&&Lib.CssClass.add(e,k),r.after(e))}function ot(n){var t=v?lr(n):n;e.style.height=t+"px"}function lr(n){var t=n,i,r;return g&&(t-=g.offsetHeight),nt&&(i=getComputedStyle(nt),t-=parseInt(i.paddingBottom)),u&&(r=getComputedStyle(u),t-=parseInt(r.marginTop)),Math.max(0,t)}function ar(){(i=_qs("#b_bop_cs_sb_place .suggestion_wrapper"),i&&i.childElementCount!=0)&&(Lib.CssClass.add(t,"b_hassc"),Lib.CssClass.remove(i,"hidden"))}function li(n){i&&(n?Lib.CssClass.remove(i,c):Lib.CssClass.add(i,c))}function vr(){var h,f,n,o,e,y;if(i&&r&&(h=_qs("#b_copilot_search .composer_wrapper"),h)&&(f=i.querySelectorAll(".suggestion_chip"),f.length!==0)){n=getComputedStyle(f[0]);yr(n);var p=parseInt(n.paddingLeft)+parseInt(n.paddingRight)+parseInt(n.borderLeftWidth)+parseInt(n.borderRightWidth),l=getComputedStyle(i),w=parseInt(_G.RTL?l.marginRight:l.marginLeft),b=parseInt(l.gap)||0,k=_d.documentElement.clientWidth||_w.innerWidth,v=getComputedStyle(t),d=parseInt(_G.RTL?v.paddingRight:v.paddingLeft),g=Math.min(u.offsetWidth,k-d),a=g-h.offsetWidth-w;for(o=0;o<f.length;o++)e=f[o],y=(s?Math.ceil(s.measureText(e.innerText).width):e.hasAttribute("data-width")?parseInt(e.getAttribute("data-width")):0)+p,a-=y,a<0&&Lib.CssClass.add(e,c),a-=b}}function yr(n){var t,i;s||(t=_d.createElement("canvas"),t.getContext&&(s=t.getContext("2d")),s)&&(i=n.fontWeight+" "+n.fontSize+" "+n.fontFamily,s.font=i)}function pr(){i&&Lib.CssClass.remove(i,lt)}function ai(){i&&Lib.CssClass.add(i,lt)}function vi(n){n.animationName==="fadeInAnimation"&&n.target===t&&pr();i&&n.animationName==="scFadeOutAnimation"&&n.target===i&&ai();n.animationName==="fadeOutAnimation"&&n.target===t&&hi()}function yi(){Lib.CssClass.add(u,vt)}function pi(){Lib.CssClass.remove(u,vt)}function wi(){Lib.CssClass.add(u,"chatmode");sj_evt.unbind(pt,yi);sj_evt.unbind(wt,pi);sj_evt.unbind(bt,wi)}function st(){var i=w?_w.screen.width:_w.innerWidth,r=w?_w.screen.height:_w.innerHeight,n;!ut&&(ni||w)&&(Math.round(i)<ti||Math.round(r)<ii)||(t=_ge("b_bop_cs_sb_place"),t)&&"ResizeObserver"in window&&((d=_ge("b_header"),g=_ge("b_footer"),nt=_ge("b_content"),f=rt?-1:30*_d.body.offsetHeight/100,ri&&(f=Math.max(f,wr())),n=d?Math.max(d.offsetHeight,f):f,!ut&&_d.body.offsetHeight-n<_w.innerHeight+100&&!rt)||(ui?kr():bi()))}function bi(){ar();hr();sr();sj_be(t,"animationend",vi);_ge("progContPlaceHolder")&&(y=!1,sj_evt.bind("directNavComplete",di,!0));a=ci();var n=_w.pageYOffset>f;y&&(n=n&&!a);(n||fi)&&si();sj_be(_d,"scroll",oi);sj_evt.bind("ajax.unload",ki,!1)}function wr(){var n=_d.querySelector(".copans_container"),t=n&&n.querySelector(".copans_sc_main"),i=t&&t.querySelector(".copans_sc");return n&&t&&i?n.getBoundingClientRect().bottom:0}function ki(){sj_ue(_d,"scroll",oi);t&&sj_ue(t,"animationend",vi);sj_evt.unbind("onP1",st);sj_evt.unbind("ajax.unload",ki);sj_evt.unbind("directNavComplete",di);b(!0);r&&Lib.CssClass.add(r,"b_hide")}function di(){y=!0}function br(){sj_evt.bind("onP1",st,!0)}function kr(){var n=_ge("bopchat-css-link");n&&(n.rel!=="stylesheet"?(n.rel="stylesheet",n.onload=function(){gi()}):gi())}function gi(){var n=_ge("b_copilot_search_container");Lib.CssClass.remove(n,c);bi()}function nr(n){typeof Log!="undefined"&&Log.LogFilterFlare&&Log.LogFilterFlare([ir+n])}function dr(n){var t,i,r,u,f,e,o,s,h,c,l,p,b,k,d;kt=(t=n.enableInitOnLoad)!==null&&t!==void 0?t:!1;dt=(i=n.enablePinWhenScrollUp)!==null&&i!==void 0?i:!1;gt=(r=n.enableFadeInWhenScrollUp)!==null&&r!==void 0?r:!1;v=(u=n.enablePinAboveFooter)!==null&&u!==void 0?u:!1;ni=(f=n.hideBaseWOrH)!==null&&f!==void 0?f:!1;w=(e=n.hideBaseRes)!==null&&e!==void 0?e:!1;ti=(o=n.showMinWidth)!==null&&o!==void 0?o:0;ii=(s=n.showMinHeight)!==null&&s!==void 0?s:0;it=(h=n.mobileUI)!==null&&h!==void 0?h:!1;ri=(c=n.duplicateSC)!==null&&c!==void 0?c:!1;rt=(l=n.alwaysPinComposer||n.isTechHelpMagazineRequest)!==null&&l!==void 0?l:!1;ui=(p=n.enablePrefetchCss)!==null&&p!==void 0?p:!1;ut=(b=n.alwaysShowComposer)!==null&&b!==void 0?b:!1;fi=(k=n.isTechHelpMagazineRequest)!==null&&k!==void 0?k:!1;ei=(d=n.enableEngagedSerpComposer)!==null&&d!==void 0?d:!1;y=!0;ft=!1;et=!1;a=!1;tt=0;kt?st():br()}var h="b_pinbop",k="b_bop_nobg",ht="b_unpin_anim",ct="b_pincomposer",lt="b_bop_sc_hide",at="b_pin_abovefoot",vt="focusmode",tr="b_collapsed_co",c="b_hide",yt="b_bop_pin_placehold",ir="webco_",rr="visible",ur="overlay",pt="csComposerFocus",wt="csComposerBlur",bt="csComposerFirstTurn",f,t,d,g,nt,r,e,l=0,u,i,p=0,tt=0,a=!1,o=!1,s,kt=!1,dt=!1,gt=!1,v=!1,ni=!1,w=!1,ti=0,ii=0,it=!1,ri=!1,rt=!1,ui=!1,ut=!1,fi=!1,y=!0,ft=!1,et=!1,ei=!1;n.initComposer=dr})(SERPCopilotSearchComposer||(SERPCopilotSearchComposer={}))