var VerticalHeaderFlyout;(function(n){var i=null,t=null,u=null,r=null,v=!0,y=!1,d=null,ct=null,o=null,a=null,p=null,h=null,w=null,g=null,nt=null,b=null,tt=null,it=null,rt,lt="",c="click",ni="mouseover",at="mousedown",e="div",ut="_blank",s="none",ti="b_vfly_anc_i",vt="b_vfly_anmo",yt="b_vfly_anmc",ii="b_vfly_anc_a",ri="id_h",ui=_w,ft="",f=null;n.initializeView=function(n){try{f=n;t=JSON.parse(f===null||f===void 0?void 0:f.propertybag);var i=t.ImpressionOffer;i?sj_evt.bind("bnp.embed.ready",et,!0):et()}catch(r){Log.Log("NotificationsError","BNP",r.message,!1)}};var et=function(){try{if(i=f===null||f===void 0?void 0:f.id,v=t.OpenInNewTab==="true",d=t.RightArrowIcon,ct=t.DownArrowIcon,o=t.IsPersistentHeader==="true",a=t.IsHomepage==="true",y=t.FadeByDefault==="true",nt=t.HideOnClick==="true",ft=t.FormCode,lt=t.CtaClickOffer,r=_ge(f===null||f===void 0?void 0:f.containerId),it=_ge(ri),p="b_vfly_cn_"+i,h="b_vfly_"+i,w="b_vfly_anc_a_"+i,g="b_vfly_anc_i_"+i,!r||_ge(p))return;u=sj_ce(e,p,o?"b_vfly_cn":"b_vfly_c");r.appendChild(u);o?ei():fi();nt?sj_be(_w,c,function(n){l(!1,n)},!0):sj_be(it,at,function(n){kt(n)});sj_evt.bind("unload",ht,!0)}catch(n){Log.Log("NotificationsError","BNP",n.message,!1);ht()}},fi=function(){pt();sj_be(_w,"scroll",k,!0);sj_be(_w,"resize",k,!0);gt()},ei=function(){var n,i,r,u;oi();pt();y&&(n=_ge(g),n&&n.classList.add("b_vfly_anc_anm"));i=t.OpenByDefaultTime;t.OpenByDefault==="true"?(bt(),i&&setTimeout(function(){l(!0)},parseInt(i))):(r=_ge(h),r&&(r.style.display=s));u=t.HideAutoOpenOnEvent;u&&sj_evt.bind(u,function(){l(!0)},!0);t.HideOnChatEnabled=="false"&&sj_evt.bind("showSydFSC",dt,!0);gt()},pt=function(){var bt=null,at,n,f,s,lt,vt,d,yt,w,pt,g,it,ft,wt,et,y,k;bt=!o&&a?"b_vfly b_vfly_dh_hp":o||a?"b_vfly b_vfly_ph":"b_vfly b_vfly_dh";var p=sj_ce(e,h,bt),kt=t.BackgroundImage,dt=t.Background;kt?p.style.backgroundImage="url("+kt+")":dt&&(p.style.background=dt);at=t.Border;at&&(p.style.border=at);n=sj_ce("a");n.href=t.CtaUrl;n.setAttribute("_ct",t._ct);v&&(n.target=ut);n.addEventListener(c,function(t){st(i,n,t)});f=n;b=t.QRCodeUrl;b&&(f=sj_ce(e,"b_vply_hcnt"),f.style.display="flex",rt=sj_ce(e,"b_vfly_qr","b_vfly_qr"),f.appendChild(rt),n.appendChild(f),sj_evt.bind("QRCodeScriptLoaded",ot,!0));tt=t.VideoUrl;tt&&(s=sj_ce("video",undefined,"b_vfly_video"),s.autoplay=!0,s.muted=!0,s.controls=!1,s.height=96,s.width=240,lt=sj_ce("source"),lt.src=tt,lt.type="video/mp4",s.appendChild(lt),f.appendChild(s));t.RewardsHeaderIcon&&(vt=sj_ce("div","b_vfly_h"),d=sj_ce("img","b_vfly_h_i"),d.src=t.RewardsHeaderIcon,d.setAttribute("data-priority","2"),t.RewardsHeaderAltText&&(d.alt=t.RewardsHeaderAltText),vt.appendChild(d),f.appendChild(vt));yt=t.FlyoutImageUrl;yt&&(w=sj_ce("img",null,"b_vfly_i"),w.src=yt,w.setAttribute("data-priority","2"),w.alt=t.FlyoutImageAltText,pt=t.FlyoutImageHeight,pt&&(w.style.height=pt),f.appendChild(w));g=sj_ce(e,null,"b_vfly_b");t.BodyTextColor&&(g.style.color=t.BodyTextColor);it=t.Title;it&&(ft=sj_ce(e,null,"b_vfly_t"),ft.innerText=it,ft.setAttribute("aria-label",it),ft.tabIndex=0,g.appendChild(ft));wt=t.Description;wt&&(et=sj_ce(e,null,"b_vfly_d"),et.innerHTML=wt,et.tabIndex=0,it||et.classList.add("b_fly_nt"),g.appendChild(et));n.appendChild(g);p.appendChild(n);var ht=sj_ce(e,null,"b_vfly_ctac"),r=sj_ce("a",null,"b_vfly_cta b_vfly_btn"),ct=t.CtaText;ct&&(r.innerText=ct,r.setAttribute("aria-label",ct),r.href=t.CtaUrl,r.setAttribute("_ct",t._ct),r.tabIndex=0,v&&(r.target=ut),r.addEventListener(c,function(n){st(i,r,n)}));y=sj_ce(e,null,"b_vfly_dsm b_vfly_btn");k=t.DismissText;k&&(y.innerText=k,y.setAttribute("aria-label",k),y.tabIndex=0,y.addEventListener(c,function(){si(i)}));t.RightAlignCta==="true"?(k&&ht.appendChild(y),ct&&ht.appendChild(r)):(ct&&ht.appendChild(r),k&&ht.appendChild(y));p.appendChild(ht);u.appendChild(p);nt&&_d.addEventListener(c,function(n){l(!1,n)},!0)},ot=function(){sj_evt.unbind("QRCodeScriptLoaded",ot);new ui.QRCode(rt,{text:b,width:70,height:70,correctLevel:2})},oi=function(){var n=sj_ce("a","b_vfly_anc_"+i,"b_vfly_anc"),r,e,f;n.href=t.AnchorUrl;v&&(n.target=ut);n.setAttribute("_ct",t._ct);n.addEventListener(c,function(t){st(i,n,t)});n.addEventListener(ni,bt);t.AnchorIcon&&(r=sj_ce("img",g,ti),r.src=t.AnchorIcon,r.setAttribute("data-priority","2"),r.role="presentation",n.appendChild(r));e=sj_ce("span");e.innerText=t.AnchorText;f=sj_ce("img",w,ii);f.src=d;f.role="presentation";n.appendChild(e);n.appendChild(f);u.appendChild(n)},wt=function(n){n===void 0&&(n=0);var t=_ge("hp_scroll"),i=_d.querySelector(".sbox"),r=t&&t.scrollTop||_w.pageYOffset||_d.documentElement.scrollTop||_d.body.scrollTop||i&&i.classList.contains("fix");if(r>n)return!0},k=function(){var n=_ge(p);n&&(n.style.display=wt(300)&&a||!a&&wt()?s:"block")},bt=function(){var n=_ge(h),t;n&&(n.style.display="block",y&&(t=_ge(w),t&&(t.src=ct),n.classList.remove(yt),n.classList.add(vt)))},kt=function(n){r&&!r.contains(n.target)&&(l(),sj_ue(it,at,kt))},l=function(n,t){var i,r;n===void 0&&(n=!1);t===void 0&&(t=null);i=_ge(h);i&&(r=_ge(w),r&&(r.src=d),t&&t.target&&t.target!=i?i.style.display=s:y&&n?(i.classList.remove(vt),i.classList.add(yt)):i.style.display=s)},si=function(n){return r&&(r.style.display=s),Bnp.Common.Close(n,!0)},st=function(n,i,f){if(f&&f.stopPropagation(),lt&&Bnp.Embed.PostRewardsActivity(),t.EventToFireOnClick&&(ft!=""&&hi(ft),sj_evt.fire("OpenGoBigFlyout",u)),t.EnableGpingInstrumentation.toLowerCase()=="true"&&typeof _w.si_ct=="function")try{_w.si_ct(i)}catch(e){Log.Log("clientInst","VerticalHeaderFlyout_CtaLink","si_ct threw exception")}if(r)return r.style.display=s,Bnp.Common.Click(n)},dt=function(){u&&(u.style.display=s)},gt=function(){var t=_d.querySelector(".b_header_bg.th_trig")||_d.querySelector(".b_header_bg.thm_ThHalo"),n=_ge(h);r&&u&&!t&&n&&getComputedStyle(n).position!="static"&&(o&&sj_evt.fire("bnp.persist.shown",u),Bnp.Common.LogImpression(u,i,!0),r.classList.remove("b_hide"))},hi=function(n){var t={global:{formCode:n}};_w!=null&&(_w===null||_w===void 0?void 0:_w.RewardsWidget)!=null&&_w.RewardsWidget.update(t)},ht=function(){sj_evt.unbind("bnp.embed.ready",et);o||(sj_ue(_w,"scroll",k),sj_ue(_w,"resize",k));t&&t.HideAutoOpenOnEvent&&sj_evt.unbind(t.HideAutoOpenOnEvent,l);b&&sj_evt.unbind("QRCodeScriptLoaded",ot);t&&t.HideOnChatEnabled=="false"&&sj_evt.unbind("showSydFSC",dt);sj_evt.unbind("unload",ht)}})(VerticalHeaderFlyout||(VerticalHeaderFlyout={}))