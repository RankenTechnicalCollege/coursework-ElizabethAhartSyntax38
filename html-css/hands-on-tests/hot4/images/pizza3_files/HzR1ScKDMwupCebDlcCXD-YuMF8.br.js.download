var ClickBackRS;(function(n){function gi(){fr()&&(nr(),sj_evt.bind("load_clickback_rs",rt,!0),sj_evt.bind("ajax.unload",ei))}function nr(){var r,f,e,n,s,c;if(typeof _G=="undefined"||_G.EF===undefined||_G.EF.cbRSInLastMLTA===undefined||_G.EF.cbRSInLastMLTA!==1||typeof ClickBackRSUtility=="undefined"||ClickBackRSUtility.isRSInViewport()||ft(h)?typeof _G=="undefined"||_G.EF===undefined||_G.EF.cbRSInFirstAlgo===undefined||_G.EF.cbRSInFirstAlgo!==1||typeof ClickBackRSUtility=="undefined"||ClickBackRSUtility.isRSInViewport()||ft(h)||(t=ClickBackRSUtility.getFirstAlgo(),!t||t.classList.contains("b_algoBorder")||t.classList.contains("b_algoBigWiki")||(typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSInFirstAlgoFlare!==undefined&&_G.EF.cbRSInFirstAlgoFlare===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsFirstAlgo"]),typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.renderCBRSInFirstAlgo!==undefined&&_G.EF.renderCBRSInFirstAlgo===1&&ut())):(t=ClickBackRSUtility.getLastMLTA(),t&&(u=ClickBackRSUtility.getMLTABlock(),typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSInLastMLTAFlare!==undefined&&_G.EF.cbRSInLastMLTAFlare===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsLastMLTA"]),typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSBelowMLTA!==undefined&&_G.EF.cbRSBelowMLTA===1&&ut())),pt())i=o()?document.querySelectorAll([w,et].join(",")):document.querySelectorAll(w);else if(typeof _G!="undefined"&&((r=_G===null||_G===void 0?void 0:_G.EF)===null||r===void 0?void 0:r.clickbackRSonTopW)===1)i=o()?document.querySelectorAll([et,a,b].join(",")):document.querySelectorAll([a,b].join(","));else{if(n=_ge("b_results"),n==null)return;i=o()?n.querySelectorAll([et,a].join(",")):n.querySelectorAll(a)}i!=null&&(typeof _G!="undefined"&&((f=_G===null||_G===void 0?void 0:_G.EF)===null||f===void 0?void 0:f.clickbackRSonTopWFlare)===1&&(s=document.querySelectorAll(b),s&&s.length>0&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrstopwflare"])),c=hr(st),typeof _w!="undefined"&&c&&(sj_be(_d,st.visibilityChangedEventName,ui),sj_evt.bind("ajax.unload",oi)),d=document.querySelectorAll(vi),wr(),rr(),typeof _G!="undefined"&&((e=_G===null||_G===void 0?void 0:_G.EF)===null||e===void 0?void 0:e.clickbackRSAfterOnP1)===1?sj_evt.bind("onP1",function(){sb_st(ri,ki)}):ri(),sessionStorage[h]&&sessionStorage.removeItem(h),sessionStorage[k]&&sessionStorage.removeItem(k),eu())}function rt(){var n,r;if(g=ft(h),ht=ft(k),i&&g&&ht){for(t=null,n=0;n<i.length;n++)if(r=i[n],r&&g==r.getAttribute("href")&&ht==n.toString()){t=at(r);break}if(t){if(o()){if(t.querySelector(".b_rs")||nu(t))return}else if(pt()&&(t.classList.contains("b_algoBorder")||t.classList.contains("b_algoBigWiki")||li(t)))return;ut()}}}function tr(){var n=document.querySelectorAll("#inline_rs .rslist .b_suggestionText"),i,t,r;if(!n||n.length===0)return"";for(i=[],t=0;t<n.length;t++)r=n[t].textContent,r&&i.push(r);return i.join(",")}function ut(n){var i,r,u,f,e,s;if((n===void 0&&(n=!1),!o()||((i=t===null||t===void 0?void 0:t.classList)===null||i===void 0?!void 0:!i.contains("b_ans"))||(dr()&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbRSOnAnswerFlare"]),!gr()))&&!ct&&t){if(f=t.querySelector(nt),f){ii(f);return}(t===null||t===void 0?void 0:t.classList.contains("b_algo"))?(e=wi.replace(/\&amp\;/g,"&")+"&IG="+_G.IG+"&url="+cr(t)+"&q="+or()+"&iid="+t.getAttribute("iid")+"&boprs="+tr(),l("RSClickBackRequest",g||""),typeof _G!="undefined"&&((u=_G===null||_G===void 0?void 0:_G.EF)===null||u===void 0?void 0:u.clickbackAjaxRsFlare)===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsajaxflare"]),ct=!0,s=t,sj_ajax(e,{callback:function(i,r){var f,u,e;(ct=!1,t===s)&&(i&&r?(u=sj_ce("div"),r.appendTo(u),((f=u.querySelectorAll(nt))===null||f===void 0?void 0:f.length)==1?(l("RSClickBackResponse","true"),er()?p(n):(e=u.querySelector(nt),p(n,e))):(p(n),l("RSClickBackResponse","false"))):(p(n),l("RSClickBackResponse","false")))}})):(typeof _G!="undefined"&&((r=_G===null||_G===void 0?void 0:_G.EF)===null||r===void 0?void 0:r.clickbackRsAdsFlare)===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsAdsFlare"]),p(n))}}function p(n,t){(n===void 0&&(n=!1),t===void 0&&(t=_ge(yi)),t)&&(r=t,ir(r),n?(r.classList.contains(v)||Lib.CssClass.add(r,v),r.style.height="0",r.style.overflow="hidden",r.style.transition="height ".concat(kt,"ms"),r.classList.contains(f)&&Lib.CssClass.remove(r,f),lt=!1,c=r,fi(r),l("RSHoverShow","Triggered"),Log.LogFilterFlare(["cbRSHover"]),sb_st(function(){r.style.height=r.scrollHeight+"px"},kt)):ii(r))}function ii(n){if(n){c&&c!=n&&!c.classList.contains(f)&&Lib.CssClass.add(c,f);ci()&&n&&n.parentElement?(n.parentElement.id==="b_topw"?n.classList.contains(s)||Lib.CssClass.add(n,s):n.classList.contains(ot)||Lib.CssClass.add(n,ot),sj_evt.fire("renderCBRS")):n.classList.contains(s)&&Lib.CssClass.remove(n,s);n.classList.contains(f)&&Lib.CssClass.remove(n,f);var t=n.offsetHeight;n.style.height=t+"px";lt=!1;c=n;fi(n)}}function ir(n){var e,h,c,a,p,i,y;if(n&&t)if(n.classList.contains(v)||Lib.CssClass.add(n,v),n.classList.contains(f)||Lib.CssClass.add(n,f),l("Show","Triggered"),typeof _G!="undefined"&&((e=_G===null||_G===void 0?void 0:_G.EF)===null||e===void 0?void 0:e.clickbackRSFlare)===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsflare"]),p=t.offsetHeight-pi,Lib.CssClass.add(t,"qbrs"),t.setAttribute("data-oAH",p+"px"),ci()&&bt&&u)bt=!1,n.style.marginBottom="10px",u.id==="b_topw"?(Lib.CssClass.add(n,s),u.appendChild(n)):((h=u.parentElement)===null||h===void 0?void 0:h.id)==="b_topw"&&u.classList.contains("b_ans")?(Lib.CssClass.add(n,s),u.parentNode&&u.parentNode.insertBefore(n,u)):(Lib.CssClass.add(n,ot),u.nextSibling&&u.parentNode&&u.parentNode.insertBefore(n,u.nextSibling));else if(!o()||t.classList.contains("sb_adTA")){if(i=t.querySelector(nt),i){r=i;return}t.appendChild(n)}else{if(i=((a=(c=t.nextElementSibling)===null||c===void 0?void 0:c.classList)===null||a===void 0?void 0:a.contains(v))?t.nextElementSibling:null,i){r=i;return}Lib.CssClass.add(n,"b_ans");n.style.paddingTop="0";n.style.marginBottom="4px";n.style.marginTop="-4px";y=t.parentNode;y&&t.nextSibling&&y.insertBefore(n,t.nextSibling)}}function rr(){var u,h,c,t,f,n,e,s,r,l;if(i)for(h=pt()||o()?i.length:i.length-1,c=function(n){var r=i[n],u,t;sj_be(r,"click",function(){vt(r.getAttribute("href"),n.toString())});u=at(r);t=u?u.querySelector(ai):null;t&&t!=wt&&sj_be(t,"click",function(){vt(r.getAttribute("href"),n.toString())});wt=t},n=0;n<h;n++)c(n);if(typeof _G!="undefined"&&((u=_G===null||_G===void 0?void 0:_G.EF)===null||u===void 0?void 0:u.clickbackRSonAdAlgoFlare)===1&&(t=_d.querySelectorAll(w),f=_d.querySelectorAll([a,b].join(",")),t.length>0))for(n=0;n<t.length;n++){for(e=t[n],s=!0,r=0;r<f.length;r++)if(l=f[r],e.getAttribute("href")===l.getAttribute("href")){s=!1;break}s&&sj_be(e,"click",function(){Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsadalgoflare"])})}}function ri(){var t,n;if(d)for(t=0;t<d.length;t++)n=d[t],n.classList.contains("b_algoBorder")||n.classList.contains("b_algoBigWiki")||(sj_be(n,"mouseover",ar),sj_be(n,"mouseleave",vr),sj_be(n,"mouseout",yr))}function ur(n){n&&n&&!n.classList.contains(f)&&Lib.CssClass.add(n,f)}function ui(){rt()}function fi(n){var t,i,r;if(n&&(t=n.querySelector(".b_clickback_close, #rscar_close"),t)){for(i=0;i<y.length;i++)if(y[i].element===t){sj_ue(t,"click",y[i].handler);y.splice(i,1);break}r=function(){return ur(n)};y.push({element:t,handler:r});sj_be(t,"click",r)}}function ei(){sj_evt.unbind("load_clickback_rs",rt);sj_evt.unbind("ajax.unload",ei)}function oi(){sj_ue(_d,st.visibilityChangedEventName,ui);sj_evt.unbind("ajax.unload",oi)}function fr(){var n="sschkad",t="sschvad",i;try{if(typeof Storage=="undefined"||typeof sessionStorage=="undefined"||(sessionStorage.setItem(n,t),i=sessionStorage.getItem(n),sessionStorage.removeItem(n),i!=t))return!1}catch(r){return!1}return!0}function at(n){for(var t,i,u=Array.prototype.slice.call(document.querySelectorAll(w)),f=u.includes(n),r;n&&n.id!="b_results";){if(o()){if(f&&n.classList&&(n.classList.contains("b_algo")||n.classList.contains("sb_adTA"))||n.classList&&n.classList.contains("b_ans")&&(((t=n.parentElement)===null||t===void 0?void 0:t.id)==="b_results"||((i=n.parentElement)===null||i===void 0?void 0:i.id)==="b_topw"))return n}else if(n.classList&&(n.classList.contains("b_algo")||n.classList.contains("sb_adTA")))return n;if(r=n.parentElement,!r)break;n=r}return null}function ft(n){return sessionStorage[n]?sessionStorage.getItem(n):null}function vt(n,t){sessionStorage.setItem(h,n);sessionStorage.setItem(k,t)}function er(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.clickbackRScflog!==undefined&&_G.EF.clickbackRScflog===1}function l(n,t){_w.sj_log&&sj_log("CI.RSSQB",n,t)}function or(){return si(window.location.search,"q")}function sr(){var i=undefined,r=undefined,t,n;if("hidden"in _d)i="hidden",r="visibilitychange";else for(t=["webkit","moz","ms","o"],n=0;n<t.length;n++)if(t[n]+"Hidden"in _d){i=t[n]+"Hidden";r=t[n]+"visibilitychange";break}return{hiddenProperty:i,visibilityChangedEventName:r}}function hr(n){return!!(n&&n.hiddenProperty&&n.visibilityChangedEventName)}function cr(n){var t,i;return n?(t=n.querySelector("h2 a"),!t)?null:(i=t.getAttribute("href"),!i)?null:lr(i):null}function lr(n){var t=si(n,"u");if(!t||!t.startsWith("a1"))return n;try{return t=t.substring(2).replace(/_/g,"/").replace(/-/g,"+"),t=decodeURIComponent(atob(t))}catch(i){return Log.Log("EnLink",n,t,!1),n}}function si(n,t){var r=new RegExp("[?&]{1}"+t+"=([^&]+)([\\/\\\\][^?#]*)?([?#].*)?","i"),i=n.match(r);return i?i[1]:""}function hi(n){if((!dt||!dt.matches)&&lt&&!gt&&!ni&&!ti){var i=at(n);i&&!br(i)&&(t=i,tt=sb_st(function(){pr()},bi))}}function ar(n){e=n.currentTarget;yt();hi(e);e&&e.setAttribute("data-rs","true")}function vr(){yt();e&&e.removeAttribute("data-rs");e=null}function yr(n){yt();e&&e.removeAttribute("data-rs");hi(n.currentTarget)}function yt(){tt&&sb_ct(tt);tt=null}function pr(){ut(!0)}function wr(){var f=document.querySelector(".b_rrsr"),n,t,i,r,u;f&&(n=typeof IntersectionObserver!="undefined"&&new IntersectionObserver(function(n){n.forEach(function(n){gt=n.isIntersecting})}),n&&n.observe(f));t=document.querySelector(".b_rs");t&&(i=typeof IntersectionObserver!="undefined"&&new IntersectionObserver(function(n){n.forEach(function(n){ni=n.isIntersecting})}),i&&i.observe(t));r=document.querySelector(".richrswrapper");r&&(u=typeof IntersectionObserver!="undefined"&&new IntersectionObserver(function(n){n.forEach(function(n){ti=n.isIntersecting})}),u&&u.observe(r))}function br(n){return n.querySelector(".ad_hidenESL")?!0:!1}function pt(){var n;return typeof _G!="undefined"&&((n=_G===null||_G===void 0?void 0:_G.EF)===null||n===void 0?void 0:n.clickbackRSonAdAlgo)===1}function o(){return kr()&&document.querySelector("#b_results .b_adMiddle, #b_results .b_adBottom")!==null?!1:typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSOnAnswer!==undefined&&_G.EF.cbRSOnAnswer===1}function kr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRsOnAnswerNoAds!==undefined&&_G.EF.cbRsOnAnswerNoAds===1}function dr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSOnAnswerFlare!==undefined&&_G.EF.cbRSOnAnswerFlare===1}function gr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSOnAnswerCF!==undefined&&_G.EF.cbRSOnAnswerCF===1}function ci(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSBelowMLTA!==undefined&&_G.EF.cbRSBelowMLTA===1}function nu(n){var t,i,r=document.querySelector(".b_rs");return r?((t=n.classList)===null||t===void 0?void 0:t.contains("b_ans"))&&((i=n.nextElementSibling)===null||i===void 0?void 0:i.querySelector(".b_rs"))?!0:li(n):!1}function li(n){if(!n)return!1;var t=_d.querySelectorAll("#b_results > .b_algo, #b_topw .sb_adTA, #b_results .sb_adTA");return t.length>0&&t[t.length-1]===n?!0:!1}function tu(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.autoShowCBRS===1}function iu(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.autoShowCBRSFlare===1}function ru(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.autoShowCBRSCF===1}function uu(){for(var i,n,r,u=document.querySelectorAll(".b_algo"),t=0;t<u.length;t++)if(i=u[t],n=i.getBoundingClientRect(),n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)&&(r=i.querySelector("h2 > a"),r))return r;return null}function fu(){var r=document.querySelector(".b_inline_ajax_rs"),u,t,n,f;if((!r||!(r.getBoundingClientRect().top>=0)||!(r.getBoundingClientRect().bottom<=(window.innerHeight||document.documentElement.clientHeight)))&&(u=uu(),u&&i&&(t=u.getAttribute("href"),t)))for(n=0;n<i.length;n++)if(f=i[n],f.getAttribute("href")===t){iu()&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["autoShowCBRSFlare"]);ru()||(vt(t,n.toString()),rt());break}}function eu(){tu()&&_d.addEventListener("visibilitychange",function(){it&&(clearTimeout(it),it=null);_d.visibilityState==="hidden"&&(it=setTimeout(function(){fu()},di))})}var ai=".b_attribution cite, .b_tpcn, .b_adTopIcon_container",w="#b_results > .b_algo a,#b_topw .sb_adTA a,#b_results .sb_adTA a",a="#b_results > .b_algo > h2 > a,#b_results > .b_algo .sp-rn-title  > h2 > a,#b_results > .b_algo .b_imagePair  > h2 > a,#b_results > .b_algo > .b_title > h2 > a,#b_results .sb_adTA > h2 > a,#b_results .sb_adTA >.b_title > h2 > a",b="#b_topw .sb_adTA > h2 > a,#b_topw .sb_adTA >.b_title > h2 > a",vi="#b_results > .b_algo,#b_results .sb_adTA",et="#b_results > .b_ans a",yi="inline_rs",f="b_hide",pi=14,s="b_wpt_top",ot="b_ans",st=sr(),h="cbAdUrl",k="cbAdUrlIndex",i,d,wt=null,g=null,ht=null,t=null,ct=!1,wi="/recoRS?",nt=".b_inline_ajax_rs",v="b_inline_ajax_rs",bt=!0,u=null,c=null,r=null,bi=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.CBRSHT)?parseInt(_G.CBRSHT)||600:600,kt=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.CBRSHTAM)?parseInt(_G.CBRSHTAM)||400:400,ki=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.CBRSHTonP1)?parseInt(_G.CBRSHTonP1)||3e3:3e3,dt=_w.matchMedia&&_w.matchMedia("(prefers-reduced-motion: reduce)"),lt=!0,tt=null,e=null,gt=!1,ni=!1,ti=!1,y=[],di=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.AutoShowCBRSInterval)?parseInt(_G.AutoShowCBRSInterval)||3e5:3e5,it=null;n.bindEvent=gi})(ClickBackRS||(ClickBackRS={}))